# ğŸ”¥ çƒ­é‡è½½å¼€å‘ç¯å¢ƒå®Œæ•´é…ç½®

æœ¬é¡¹ç›®å·²æˆåŠŸé…ç½®äº†å®Œæ•´çš„çƒ­é‡è½½å¼€å‘ç¯å¢ƒï¼Œæ”¯æŒrendereræ–‡ä»¶å¤¹ä¸‹Reactã€TypeScriptå’ŒLessæ–‡ä»¶çš„å®æ—¶æ›´æ–°ã€‚

## âœ… å·²å®Œæˆçš„é…ç½®

### 1. å®‰è£…çš„ä¾èµ–åŒ…
```json
{
  "devDependencies": {
    "webpack-dev-server": "^4.15.1",
    "@pmmmwh/react-refresh-webpack-plugin": "^0.5.15",
    "react-refresh": "^0.14.2",
    "react-refresh-typescript": "^2.0.9",
    "concurrently": "^8.2.2",
    "wait-on": "^7.2.0",
    "less": "^4.2.0",
    "less-loader": "^12.2.0"
  }
}
```

### 2. åˆ›å»ºçš„é…ç½®æ–‡ä»¶

#### webpack.dev.config.js
ä¸“é—¨çš„å¼€å‘ç¯å¢ƒwebpacké…ç½®ï¼ŒåŒ…å«ï¼š
- Webpackå¼€å‘æœåŠ¡å™¨é…ç½®ï¼ˆç«¯å£3000ï¼‰
- çƒ­æ¨¡å—æ›¿æ¢ï¼ˆHMRï¼‰
- Lessé¢„å¤„ç†å™¨æ”¯æŒ
- æºä»£ç æ˜ å°„ä¼˜åŒ–
- æ–‡ä»¶ç›‘å¬é…ç½®

#### dev-start.js
æ™ºèƒ½å¯åŠ¨è„šæœ¬ï¼š
- è‡ªåŠ¨å¯åŠ¨webpackå¼€å‘æœåŠ¡å™¨
- ç­‰å¾…æœåŠ¡å™¨å°±ç»ªåå¯åŠ¨Electron
- ä¼˜é›…çš„è¿›ç¨‹ç®¡ç†å’Œæ¸…ç†

### 3. æ›´æ–°çš„ä¸»è¿›ç¨‹é…ç½®

`src/main.ts`å·²æ›´æ–°ä»¥æ”¯æŒï¼š
- è‡ªåŠ¨æ£€æµ‹å¼€å‘/ç”Ÿäº§æ¨¡å¼
- å¼€å‘æ¨¡å¼ä¸‹è¿æ¥åˆ°webpackå¼€å‘æœåŠ¡å™¨
- ç”Ÿäº§æ¨¡å¼ä¸‹åŠ è½½æœ¬åœ°æ„å»ºæ–‡ä»¶

### 4. æ–°å¢çš„npmè„šæœ¬

```json
{
  "scripts": {
    "build:renderer:dev": "webpack serve --config webpack.dev.config.js",
    "dev:renderer": "npm run build:main && npm run build:renderer:dev",
    "dev:hot": "node dev-start.js",
    "start:dev": "electron . --dev"
  }
}
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### å¯åŠ¨çƒ­é‡è½½å¼€å‘ç¯å¢ƒ
```bash
npm run dev:hot
```

### åˆ†æ­¥å¯åŠ¨ï¼ˆç”¨äºè°ƒè¯•ï¼‰
```bash
# 1. å…ˆå¯åŠ¨webpackå¼€å‘æœåŠ¡å™¨
npm run build:renderer:dev

# 2. åœ¨å¦ä¸€ä¸ªç»ˆç«¯å¯åŠ¨Electronï¼ˆå¼€å‘æ¨¡å¼ï¼‰
npm run start:dev
```

## âš¡ çƒ­é‡è½½ç‰¹æ€§

### æ”¯æŒçš„æ–‡ä»¶ç±»å‹
- âœ… Reactç»„ä»¶ (.tsx, .jsx)
- âœ… TypeScriptæ–‡ä»¶ (.ts)
- âœ… Lessæ ·å¼æ–‡ä»¶ (.less)
- âœ… CSSæ–‡ä»¶ (.css)

### å®æ—¶æ›´æ–°åŠŸèƒ½
- **ç»„ä»¶æ›´æ–°**: ä¿®æ”¹Reactç»„ä»¶åç«‹å³ç”Ÿæ•ˆ
- **æ ·å¼æ›´æ–°**: Less/CSSä¿®æ”¹åå®æ—¶é¢„è§ˆ
- **é”™è¯¯æ˜¾ç¤º**: ç¼–è¯‘é”™è¯¯åœ¨é¡µé¢ä¸Šæ˜¾ç¤º
- **è‡ªåŠ¨é‡è¿**: æœåŠ¡å™¨é‡å¯åè‡ªåŠ¨é‡æ–°è¿æ¥

## ğŸ“ é¡¹ç›®ç»“æ„

```
TODO-WorkBench/
â”œâ”€â”€ webpack.config.js          # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€â”€ webpack.dev.config.js      # å¼€å‘ç¯å¢ƒé…ç½®ï¼ˆæ–°å¢ï¼‰
â”œâ”€â”€ dev-start.js              # å¼€å‘å¯åŠ¨è„šæœ¬ï¼ˆæ–°å¢ï¼‰
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.ts               # ä¸»è¿›ç¨‹ï¼ˆå·²æ›´æ–°ï¼‰
â”‚   â””â”€â”€ renderer/             # æ¸²æŸ“è¿›ç¨‹ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
â”‚       â”œâ”€â”€ variables.less    # Lesså˜é‡ï¼ˆæ–°å¢ï¼‰
â”‚       â”œâ”€â”€ mixins.less       # Lessæ··åˆï¼ˆæ–°å¢ï¼‰
â”‚       â”œâ”€â”€ App.less          # ä¸»åº”ç”¨æ ·å¼ï¼ˆè½¬æ¢ï¼‰
â”‚       â””â”€â”€ components/
â”‚           â”œâ”€â”€ TodoList.less # ç»„ä»¶æ ·å¼ï¼ˆè½¬æ¢ï¼‰
â”‚           â””â”€â”€ TodoItem.less # ç»„ä»¶æ ·å¼ï¼ˆè½¬æ¢ï¼‰
â””â”€â”€ HOT_RELOAD_GUIDE.md       # è¯¦ç»†ä½¿ç”¨æŒ‡å—ï¼ˆæ–°å¢ï¼‰
```

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### å¼€å‘æœåŠ¡å™¨é…ç½®
- **ç«¯å£**: http://localhost:3000
- **çƒ­é‡è½½**: å¯ç”¨
- **æ–‡ä»¶ç›‘å¬**: `src/renderer/**/*`
- **CORS**: å·²é…ç½®æ”¯æŒElectron

### Electroné›†æˆ
- å¼€å‘æ¨¡å¼è‡ªåŠ¨æ£€æµ‹
- æ™ºèƒ½URLåŠ è½½ç­–ç•¥
- å¼€å‘å·¥å…·è‡ªåŠ¨å¼€å¯

### Lessé¢„å¤„ç†å™¨
- å˜é‡ç³»ç»Ÿå®Œæ•´
- Mixinså¤ç”¨æœºåˆ¶
- åµŒå¥—è¯­æ³•æ”¯æŒ
- å®æ—¶ç¼–è¯‘æ›´æ–°

## ğŸ“ å¼€å‘å·¥ä½œæµ

1. **å¯åŠ¨**: `npm run dev:hot`
2. **å¼€å‘**: ä¿®æ”¹`src/renderer/`ä¸‹çš„æ–‡ä»¶
3. **é¢„è§ˆ**: è‡ªåŠ¨æ›´æ–°ï¼Œæ— éœ€åˆ·æ–°
4. **è°ƒè¯•**: ä½¿ç”¨å¼€å‘è€…å·¥å…·
5. **åœæ­¢**: `Ctrl+C`ä¼˜é›…é€€å‡º

## ğŸš¨ æ³¨æ„äº‹é¡¹

### ä¸»è¿›ç¨‹ä¿®æ”¹
å¦‚æœä¿®æ”¹äº†`src/main.ts`æˆ–å…¶ä»–ä¸»è¿›ç¨‹æ–‡ä»¶ï¼š
1. åœæ­¢å¼€å‘ç¯å¢ƒ
2. è¿è¡Œ`npm run build:main`
3. é‡æ–°å¯åŠ¨`npm run dev:hot`

### ç«¯å£å†²çª
å¦‚æœç«¯å£3000è¢«å ç”¨ï¼Œéœ€è¦åŒæ—¶ä¿®æ”¹ï¼š
- `webpack.dev.config.js`ä¸­çš„ç«¯å£é…ç½®
- `src/main.ts`ä¸­çš„å¼€å‘æœåŠ¡å™¨URL

### åç«¯å¼€å‘
çƒ­é‡è½½ä»…é’ˆå¯¹rendererè¿›ç¨‹ï¼Œåç«¯å¼€å‘è¯·ä½¿ç”¨ï¼š
```bash
npm run dev-server
```

## ğŸ¯ æœ€ä½³å®è·µ

1. **ä¿æŒç»„ä»¶çº¯å‡€**: é¿å…å‰¯ä½œç”¨ï¼Œä¾¿äºçƒ­é‡è½½
2. **åˆç†ä½¿ç”¨çŠ¶æ€**: çƒ­é‡è½½ä¼šä¿æŒç»„ä»¶çŠ¶æ€
3. **åŠæ—¶æŸ¥çœ‹æ—¥å¿—**: å…³æ³¨æ§åˆ¶å°çš„ç¼–è¯‘ä¿¡æ¯
4. **åˆ†ç¦»å…³æ³¨ç‚¹**: æ ·å¼ã€é€»è¾‘ã€çŠ¶æ€åˆ†ç¦»
5. **ä½¿ç”¨å¼€å‘å·¥å…·**: React DevTools + Electron DevTools

## ğŸ‰ å®ŒæˆçŠ¶æ€

- âœ… Lessé¢„å¤„ç†å™¨é›†æˆ
- âœ… çƒ­é‡è½½é…ç½®å®Œæˆ
- âœ… å¼€å‘ç¯å¢ƒä¼˜åŒ–
- âœ… æ–‡æ¡£å®Œå–„
- âœ… è„šæœ¬è‡ªåŠ¨åŒ–

ç°åœ¨æ‚¨å¯ä»¥äº«å—é«˜æ•ˆçš„çƒ­é‡è½½å¼€å‘ä½“éªŒäº†ï¼ä¿®æ”¹ä»£ç å³å¯ç«‹å³çœ‹åˆ°æ•ˆæœï¼Œå¤§å¤§æé«˜å¼€å‘æ•ˆç‡ã€‚ 